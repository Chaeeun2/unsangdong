{"ast":null,"code":"// A is m x n. B is n x p. product is m x p.\nexport default function multiplyMatrices(A, B) {\n  let m = A.length;\n  if (!Array.isArray(A[0])) {\n    // A is vector, convert to [[a, b, c, ...]]\n    A = [A];\n  }\n  if (!Array.isArray(B[0])) {\n    // B is vector, convert to [[a], [b], [c], ...]]\n    B = B.map(x => [x]);\n  }\n  let p = B[0].length;\n  let B_cols = B[0].map((_, i) => B.map(x => x[i])); // transpose B\n  let product = A.map(row => B_cols.map(col => {\n    let ret = 0;\n    if (!Array.isArray(row)) {\n      for (let c of col) {\n        ret += row * c;\n      }\n      return ret;\n    }\n    for (let i = 0; i < row.length; i++) {\n      ret += row[i] * (col[i] || 0);\n    }\n    return ret;\n  }));\n  if (m === 1) {\n    product = product[0]; // Avoid [[a, b, c, ...]]\n  }\n  if (p === 1) {\n    return product.map(x => x[0]); // Avoid [[a], [b], [c], ...]]\n  }\n  return product;\n}","map":{"version":3,"names":["multiplyMatrices","A","B","m","length","Array","isArray","map","x","p","B_cols","_","i","product","row","col","ret","c"],"sources":["/Users/lyuchaeeun/Desktop/unsaengdong/node_modules/colorjs.io/src/multiply-matrices.js"],"sourcesContent":["// A is m x n. B is n x p. product is m x p.\nexport default function multiplyMatrices (A, B) {\n\tlet m = A.length;\n\n\tif (!Array.isArray(A[0])) {\n\t\t// A is vector, convert to [[a, b, c, ...]]\n\t\tA = [A];\n\t}\n\n\tif (!Array.isArray(B[0])) {\n\t\t// B is vector, convert to [[a], [b], [c], ...]]\n\t\tB = B.map(x => [x]);\n\t}\n\n\tlet p = B[0].length;\n\tlet B_cols = B[0].map((_, i) => B.map(x => x[i])); // transpose B\n\tlet product = A.map(row => B_cols.map(col => {\n\t\tlet ret = 0;\n\n\t\tif (!Array.isArray(row)) {\n\t\t\tfor (let c of col) {\n\t\t\t\tret += row * c;\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\n\t\tfor (let i = 0; i < row.length; i++) {\n\t\t\tret += row[i] * (col[i] || 0);\n\t\t}\n\n\t\treturn ret;\n\t}));\n\n\tif (m === 1) {\n\t\tproduct = product[0]; // Avoid [[a, b, c, ...]]\n\t}\n\n\tif (p === 1) {\n\t\treturn product.map(x => x[0]); // Avoid [[a], [b], [c], ...]]\n\t}\n\n\treturn product;\n}\n"],"mappings":"AAAA;AACA,eAAe,SAASA,gBAAgBA,CAAEC,CAAC,EAAEC,CAAC,EAAE;EAC/C,IAAIC,CAAC,GAAGF,CAAC,CAACG,MAAM;EAEhB,IAAI,CAACC,KAAK,CAACC,OAAO,CAACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACzB;IACAA,CAAC,GAAG,CAACA,CAAC,CAAC;EACR;EAEA,IAAI,CAACI,KAAK,CAACC,OAAO,CAACJ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACzB;IACAA,CAAC,GAAGA,CAAC,CAACK,GAAG,CAACC,CAAC,IAAI,CAACA,CAAC,CAAC,CAAC;EACpB;EAEA,IAAIC,CAAC,GAAGP,CAAC,CAAC,CAAC,CAAC,CAACE,MAAM;EACnB,IAAIM,MAAM,GAAGR,CAAC,CAAC,CAAC,CAAC,CAACK,GAAG,CAAC,CAACI,CAAC,EAAEC,CAAC,KAAKV,CAAC,CAACK,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACnD,IAAIC,OAAO,GAAGZ,CAAC,CAACM,GAAG,CAACO,GAAG,IAAIJ,MAAM,CAACH,GAAG,CAACQ,GAAG,IAAI;IAC5C,IAAIC,GAAG,GAAG,CAAC;IAEX,IAAI,CAACX,KAAK,CAACC,OAAO,CAACQ,GAAG,CAAC,EAAE;MACxB,KAAK,IAAIG,CAAC,IAAIF,GAAG,EAAE;QAClBC,GAAG,IAAIF,GAAG,GAAGG,CAAC;MACf;MAEA,OAAOD,GAAG;IACX;IAEA,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGE,GAAG,CAACV,MAAM,EAAEQ,CAAC,EAAE,EAAE;MACpCI,GAAG,IAAIF,GAAG,CAACF,CAAC,CAAC,IAAIG,GAAG,CAACH,CAAC,CAAC,IAAI,CAAC,CAAC;IAC9B;IAEA,OAAOI,GAAG;EACX,CAAC,CAAC,CAAC;EAEH,IAAIb,CAAC,KAAK,CAAC,EAAE;IACZU,OAAO,GAAGA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;EACvB;EAEA,IAAIJ,CAAC,KAAK,CAAC,EAAE;IACZ,OAAOI,OAAO,CAACN,GAAG,CAACC,CAAC,IAAIA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAChC;EAEA,OAAOK,OAAO;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}