{"ast":null,"code":"import RGBColorSpace from \"../rgbspace.js\";\nimport REC2020Linear from \"./rec2020-linear.js\";\nconst Yw = 203; // absolute luminance of media white, cd/m²\nconst n = 2610 / 2 ** 14;\nconst ninv = 2 ** 14 / 2610;\nconst m = 2523 / 2 ** 5;\nconst minv = 2 ** 5 / 2523;\nconst c1 = 3424 / 2 ** 12;\nconst c2 = 2413 / 2 ** 7;\nconst c3 = 2392 / 2 ** 7;\nexport default new RGBColorSpace({\n  id: \"rec2100pq\",\n  cssId: \"rec2100-pq\",\n  name: \"REC.2100-PQ\",\n  base: REC2020Linear,\n  toBase(RGB) {\n    // given PQ encoded component in range [0, 1]\n    // return media-white relative linear-light\n    return RGB.map(function (val) {\n      let x = (Math.max(val ** minv - c1, 0) / (c2 - c3 * val ** minv)) ** ninv;\n      return x * 10000 / Yw; // luminance relative to diffuse white, [0, 70 or so].\n    });\n  },\n  fromBase(RGB) {\n    // given media-white relative linear-light\n    // returnPQ encoded component in range [0, 1]\n    return RGB.map(function (val) {\n      let x = Math.max(val * Yw / 10000, 0); // absolute luminance of peak white is 10,000 cd/m².\n      let num = c1 + c2 * x ** n;\n      let denom = 1 + c3 * x ** n;\n      return (num / denom) ** m;\n    });\n  }\n});","map":{"version":3,"names":["RGBColorSpace","REC2020Linear","Yw","n","ninv","m","minv","c1","c2","c3","id","cssId","name","base","toBase","RGB","map","val","x","Math","max","fromBase","num","denom"],"sources":["/Users/lyuchaeeun/Desktop/unsaengdong/node_modules/colorjs.io/src/spaces/rec2100-pq.js"],"sourcesContent":["import RGBColorSpace from \"../rgbspace.js\";\nimport REC2020Linear from \"./rec2020-linear.js\";\n\nconst Yw = 203;\t// absolute luminance of media white, cd/m²\nconst n = 2610 / (2 ** 14);\nconst ninv = (2 ** 14) / 2610;\nconst m = 2523 / (2 ** 5);\nconst minv = (2 ** 5) / 2523;\nconst c1 = 3424 / (2 ** 12);\nconst c2 = 2413 / (2 ** 7);\nconst c3 = 2392 / (2 ** 7);\n\nexport default new RGBColorSpace({\n\tid: \"rec2100pq\",\n\tcssId: \"rec2100-pq\",\n\tname: \"REC.2100-PQ\",\n\tbase: REC2020Linear,\n\ttoBase (RGB) {\n\t\t// given PQ encoded component in range [0, 1]\n\t\t// return media-white relative linear-light\n\t\treturn RGB.map(function (val) {\n\t\t\tlet x = ((Math.max(((val ** minv) - c1), 0) / (c2 - (c3 * (val ** minv)))) ** ninv);\n\t\t\treturn (x * 10000 / Yw); \t// luminance relative to diffuse white, [0, 70 or so].\n\t\t});\n\t},\n\tfromBase (RGB) {\n\t\t// given media-white relative linear-light\n\t\t// returnPQ encoded component in range [0, 1]\n\t\treturn RGB.map(function (val) {\n\t\t\tlet x = Math.max(val * Yw / 10000, 0); \t// absolute luminance of peak white is 10,000 cd/m².\n\t\t\tlet num = (c1 + (c2 * (x ** n)));\n\t\t\tlet denom = (1 + (c3 * (x ** n)));\n\n\t\t\treturn ((num / denom)  ** m);\n\t\t});\n\t},\n});\n"],"mappings":"AAAA,OAAOA,aAAa,MAAM,gBAAgB;AAC1C,OAAOC,aAAa,MAAM,qBAAqB;AAE/C,MAAMC,EAAE,GAAG,GAAG,CAAC,CAAC;AAChB,MAAMC,CAAC,GAAG,IAAI,GAAI,CAAC,IAAI,EAAG;AAC1B,MAAMC,IAAI,GAAI,CAAC,IAAI,EAAE,GAAI,IAAI;AAC7B,MAAMC,CAAC,GAAG,IAAI,GAAI,CAAC,IAAI,CAAE;AACzB,MAAMC,IAAI,GAAI,CAAC,IAAI,CAAC,GAAI,IAAI;AAC5B,MAAMC,EAAE,GAAG,IAAI,GAAI,CAAC,IAAI,EAAG;AAC3B,MAAMC,EAAE,GAAG,IAAI,GAAI,CAAC,IAAI,CAAE;AAC1B,MAAMC,EAAE,GAAG,IAAI,GAAI,CAAC,IAAI,CAAE;AAE1B,eAAe,IAAIT,aAAa,CAAC;EAChCU,EAAE,EAAE,WAAW;EACfC,KAAK,EAAE,YAAY;EACnBC,IAAI,EAAE,aAAa;EACnBC,IAAI,EAAEZ,aAAa;EACnBa,MAAMA,CAAEC,GAAG,EAAE;IACZ;IACA;IACA,OAAOA,GAAG,CAACC,GAAG,CAAC,UAAUC,GAAG,EAAE;MAC7B,IAAIC,CAAC,GAAI,CAACC,IAAI,CAACC,GAAG,CAAGH,GAAG,IAAIX,IAAI,GAAIC,EAAE,EAAG,CAAC,CAAC,IAAIC,EAAE,GAAIC,EAAE,GAAIQ,GAAG,IAAIX,IAAM,CAAC,KAAKF,IAAK;MACnF,OAAQc,CAAC,GAAG,KAAK,GAAGhB,EAAE,CAAE,CAAE;IAC3B,CAAC,CAAC;EACH,CAAC;EACDmB,QAAQA,CAAEN,GAAG,EAAE;IACd;IACA;IACA,OAAOA,GAAG,CAACC,GAAG,CAAC,UAAUC,GAAG,EAAE;MAC7B,IAAIC,CAAC,GAAGC,IAAI,CAACC,GAAG,CAACH,GAAG,GAAGf,EAAE,GAAG,KAAK,EAAE,CAAC,CAAC,CAAC,CAAE;MACxC,IAAIoB,GAAG,GAAIf,EAAE,GAAIC,EAAE,GAAIU,CAAC,IAAIf,CAAI;MAChC,IAAIoB,KAAK,GAAI,CAAC,GAAId,EAAE,GAAIS,CAAC,IAAIf,CAAI;MAEjC,OAAQ,CAACmB,GAAG,GAAGC,KAAK,KAAMlB,CAAC;IAC5B,CAAC,CAAC;EACH;AACD,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}